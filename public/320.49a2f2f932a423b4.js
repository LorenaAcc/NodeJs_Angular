"use strict";(self.webpackChunkrecipe=self.webpackChunkrecipe||[]).push([[320],{3320:(F,m,i)=>{i.r(m),i.d(m,{ShoppingListModule:()=>A});var f=i(8996),s=i(4006),t=i(4650),c=i(2457),v=i(6895),p=i(3546),g=i(6338),S=i(9985),C=i(4859),u=i(782),h=i(9549),b=i(284);const y=["f"];let I=(()=>{class n{constructor(e){this.slService=e,this.editMode=!1}ngOnInit(){this.subscription=this.slService.startedEditting.subscribe(e=>{this.editedItemIndex=e,this.editMode=!0,this.editedItem=this.slService.getIngredient(e),this.slForm.setValue({name:this.editedItem.name,amount:this.editedItem.amount})})}onSubmit(e){const o=e.value,l=new S.o(o.name,o.amount);this.editMode?this.slService.updateIngredient(this.editedItemIndex,l):this.slService.addIngredient(l),this.editMode=!1,e.reset()}onClear(){this.slForm.reset(),this.editMode=!1,console.log(this.slForm)}onDelete(){this.slService.deleteIngredient(this.editedItemIndex),this.onClear()}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shopping-edit"]],viewQuery:function(e,o){if(1&e&&t.Gf(y,5),2&e){let l;t.iGM(l=t.CRH())&&(o.slForm=l.first)}},decls:24,vars:2,consts:[[3,"ngSubmit"],["f","ngForm"],["cols","2","rowHeight","3:1"],["appearance","fill","floatLabel","always"],["matInput","","placeholder","Ex. Tomatoes","type","text","id","name","name","name","required","","ngModel","",1,"form-control"],["matInput","","type","number","placeholder","Ex. 12","id","amount","name","amount","ngModel","","required","","pattern","^[1-9]+[0-9]*$",1,"form-control"],["cols","3","rowHeight","3:2"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","accent","type","button",1,"btn","btn-danger",3,"click"],["mat-raised-button","","color","warn","type","button",1,"btn","btn-primary",3,"click"]],template:function(e,o){if(1&e){const l=t.EpF();t.TgZ(0,"mat-card")(1,"form",0,1),t.NdJ("ngSubmit",function(){t.CHM(l);const a=t.MAs(2);return t.KtG(o.onSubmit(a))}),t.TgZ(3,"mat-grid-list",2)(4,"mat-grid-tile")(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Name"),t.qZA(),t._UZ(8,"input",4),t.qZA()(),t.TgZ(9,"mat-grid-tile")(10,"mat-form-field",3)(11,"mat-label"),t._uU(12,"Amount"),t.qZA(),t._UZ(13,"input",5),t.qZA()()(),t.TgZ(14,"mat-grid-list",6)(15,"mat-grid-tile")(16,"button",7),t._uU(17),t.qZA()(),t.TgZ(18,"mat-grid-tile")(19,"button",8),t.NdJ("click",function(){return o.onDelete()}),t._uU(20,"Delete"),t.qZA()(),t.TgZ(21,"mat-grid-tile")(22,"button",9),t.NdJ("click",function(){return o.onClear()}),t._uU(23,"Clear"),t.qZA()()()()()}if(2&e){const l=t.MAs(2);t.xp6(16),t.Q6J("disabled",!l.valid),t.xp6(1),t.Oqu(o.editMode?"Update":"Add")}},dependencies:[s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.c5,s.On,s.F,C.lW,p.a8,u.Il,u.DX,h.KE,h.hX,b.Nt],styles:[".container[_ngcontent-%COMP%]{height:27vh;display:flex;justify-content:center;align-items:center}"]}),n})();function M(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list-item",2),t.NdJ("click",function(){const d=t.CHM(e).index,a=t.oxw();return t.KtG(a.onEditItem(d))}),t._uU(1),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.AsE(" ",e.name," (",e.amount,") ")}}let Z=(()=>{class n{constructor(e){this.slService=e}ngOnInit(){this.ingredients=this.slService.getIngredients(),this.subscription=this.slService.ingredientsChanged.subscribe(e=>{this.ingredients=e})}onEditItem(e){this.slService.startedEditting.next(e)}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shopping-list"]],decls:7,vars:1,consts:[[1,"container"],["style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"mat-card"),t._UZ(2,"app-shopping-edit")(3,"hr"),t.TgZ(4,"mat-card")(5,"mat-action-list"),t.YNc(6,M,2,2,"mat-list-item",1),t.qZA()()()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",o.ingredients))},dependencies:[v.sg,p.a8,g.i$,g.Tg,I],styles:[".container[_ngcontent-%COMP%]{height:80vh;display:flex;justify-content:center;align-items:center;padding-top:8%}mat-card[_ngcontent-%COMP%]{width:60%}mat-card[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{width:100%}"]}),n})();var E=i(4466),T=i(6827);let A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.u5,f.Bz.forChild([{path:"",component:Z}]),E.m,T.g]}),n})()}}]);